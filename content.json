{"pages":[{"title":"","text":"#back-to-top { position: fixed; padding: 8px 0; transition: 0.4s ease opacity, 0.4s ease width, 0.4s ease transform, 0.4s ease border-radius; opacity: 0; line-height: 24px; outline: none; transform: translateY(120px); } #back-to-top.fade-in { opacity: 1; } #back-to-top.rise-up { transform: translateY(0); }","link":"/css/back-to-top.css"},{"title":"关于我","text":"","link":"/about/index.html"},{"title":"","text":".ins-section-container { position: relative; background: #f7f7f7; } .ins-section { font-size: 14px; line-height: 16px; } .ins-section .ins-section-header, .ins-section .ins-search-item { padding: 8px 15px; } .ins-section .ins-section-header { color: #9a9a9a; border-bottom: 1px solid #e2e2e2; } .ins-section .ins-slug { margin-left: 5px; color: #9a9a9a; } .ins-section .ins-slug:before { content: '('; } .ins-section .ins-slug:after { content: ')'; } .ins-section .ins-search-item header, .ins-section .ins-search-item .ins-search-preview { overflow: hidden; white-space: nowrap; text-overflow: ellipsis; } .ins-section .ins-search-item header .ins-title { margin-left: 8px; } .ins-section .ins-search-item .ins-search-preview { height: 15px; font-size: 12px; color: #9a9a9a; margin: 5px 0 0 20px; } .ins-section .ins-search-item:hover, .ins-section .ins-search-item.active { color: #fff; background: #3273dc; } .ins-section .ins-search-item:hover .ins-slug, .ins-section .ins-search-item.active .ins-slug, .ins-section .ins-search-item:hover .ins-search-preview, .ins-section .ins-search-item.active .ins-search-preview { color: #fff; }","link":"/css/insight.css"},{"title":"","text":".searchbox { display: none; perspective: 50em; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; background: rgba(0, 0, 0, 0.7); transform-origin: 0%; perspective-origin: top center; } .searchbox.show { display: block; } .searchbox, .searchbox .searchbox-container { position: fixed; } .searchbox .searchbox-container { overflow: hidden; } .searchbox .searchbox-selectable { cursor: pointer; } .searchbox .searchbox-input-wrapper { position: relative; } .searchbox .searchbox-input-wrapper .searchbox-input { width: 100%; border: none; outline: none; font-size: 16px; box-shadow: none; font-weight: 200; border-radius: 0; background: #fff; line-height: 20px; box-sizing: border-box; padding: 12px 28px 12px 20px; border-bottom: 1px solid #e2e2e2; } .searchbox .searchbox-input-wrapper .searchbox-close { top: 50%; right: 6px; width: 20px; height: 20px; line-height: 20px; font-size: 16px; margin-top: -11px; position: absolute; text-align: center; display: inline-block; } .searchbox .searchbox-input-wrapper .searchbox-close:hover { color: #3273dc; } .searchbox .searchbox-result-wrapper { left: 0; right: 0; top: 45px; bottom: 0; overflow-y: auto; position: absolute; } .searchbox .searchbox-container { left: 50%; top: 100px; width: 540px; z-index: 101; bottom: 100px; margin-left: -270px; box-sizing: border-box; } @media screen and (max-width: 559px), screen and (max-height: 479px) { .searchbox .searchbox-container { top: 0; left: 0; margin: 0; width: 100%; height: 100%; background: #f7f7f7; } }","link":"/css/search.css"},{"title":"","text":".pace { -webkit-pointer-events: none; pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none; } .pace-inactive { display: none; } .pace .pace-progress { background: #3273dc; position: fixed; z-index: 2000; top: 0; right: 100%; width: 100%; height: 2px; }","link":"/css/progressbar.css"},{"title":"","text":"/* --------------------------------- * Override CSS Framework * --------------------------------- */ html { font-size: 14px; } body { background-color: #f7f7f7; } body, button, input, select, textarea { font-family: \"Ubuntu\", \"Roboto\", \"Open Sans\", \"Microsoft YaHei\", sans-serif; } @media screen and (min-width: 1280px) { .is-1-column .container, .is-2-column .container { max-width: 960px; width: 960px; } .is-3-column .container { max-width: 1216px; width: 1216px; } } @media screen and (min-width: 1472px) { .is-3-column .container { max-width: 1344px; width: 1344px; } } .is-2-column .container { max-width: 1152px; width: 1152px; } .is-1-column .container { max-width: 960px; width: 960px; } @media screen and (max-width: 768px) { .section { padding: 1.5rem 1rem; } } @media screen and (min-width: 769px) { .column-main.is-sticky, .column-left.is-sticky, .column-right.is-sticky, .column-right-shadow.is-sticky { align-self: flex-start; position: -webkit-sticky; position: sticky; top: 0.75rem; } .column-right-shadow.is-sticky { top: 1.5rem; } } .tag.is-grey { background: #e7e7e7; } .card { border-radius: 4px; box-shadow: 0 4px 10px rgba(0,0,0,0.05), 0 0 1px rgba(0,0,0,0.1); } .card + .card, .card + .column-right-shadow { margin-top: 1.5rem; } .card.card-transparent { box-shadow: none; background: transparent; } .card .card-image { overflow: hidden; border-top-left-radius: 4px; border-top-right-radius: 4px; } img.thumbnail { object-fit: cover; width: 100%; height: 100%; } .navbar-logo img, .footer-logo img { max-height: 1.75rem; } .navbar-main { box-shadow: 0 4px 10px rgba(0,0,0,0.05); } .navbar-main .navbar-menu, .navbar-main .navbar-start, .navbar-main .navbar-end { align-items: stretch; display: flex; padding: 0; flex-shrink: 0; } .navbar-main .navbar-menu { flex-grow: 1; flex-shrink: 0; overflow-x: auto; } .navbar-main .navbar-start { justify-content: flex-start; margin-right: auto; } .navbar-main .navbar-end { justify-content: flex-end; margin-left: auto; } .navbar-main .navbar-item { display: flex; align-items: center; padding: 1.25rem 0.75rem; } .navbar-main .navbar-item.is-active { color: #3273dc; background-color: transparent; } @media screen and (max-width: 1087px) { .navbar-main .navbar-menu { justify-content: center; box-shadow: none; } .navbar-main .navbar-start { margin-right: 0; } .navbar-main .navbar-end { margin-left: 0; } } .footer { background: #fff; } .footer .field .button { background: transparent; } .widget .media { border: none; } .widget .media + .media { margin-top: 0; } .widget .menu-list li ul { margin-right: 0; } .widget .menu-list a.level { display: flex; } .widget .has-text-centered figure.image { margin: auto; } .pagination .pagination-link:not(.is-current), .pagination .pagination-previous, .pagination .pagination-next { background: #fff; border: none; } .pagination .pagination-link, .pagination .pagination-previous, .pagination .pagination-next { box-shadow: 0 4px 10px rgba(0,0,0,0.05); } .post-navigation { justify-content: space-around; } .post-navigation .level-item { margin-bottom: 0; } .timeline { margin-left: 1rem; padding-left: 1.5rem; padding-top: 1rem; border-left: 1px solid #dbdbdb; } .timeline .media { position: relative; } .timeline .media:before, .timeline .media:last-child:after { content: ''; display: block; position: absolute; left: calc(-5px - 1.5rem); } .timeline .media:before { width: 9px; height: 9px; top: 1.3rem; background: #dbdbdb; border-radius: 50%; } .timeline .media:first-child:before { top: 0.3rem; } .timeline .media:last-child:after { top: calc(1.3rem + 9px); width: 9px; bottom: 0; background: #fff; } .timeline .media:first-child:last-child:after { top: calc(0.3rem + 9px); } .article .article-meta { margin-bottom: 0.5rem !important; } .article .content { font-size: 1.1rem; } .article .content blockquote.pullquote { float: right; max-width: 50%; font-size: 1.15rem; position: relative; } .article .content a { word-wrap: break-word; } .rtl { direction: rtl; } .rtl .level .level-item:not(:last-child), .rtl .level.is-mobile .level-item:not(:last-child) { margin-left: 0.75rem; margin-right: 0; } .donate { position: relative; } .donate .qrcode { display: none; position: absolute; z-index: 99; bottom: 2.5em; line-height: 0; overflow: hidden; border-radius: 4px; box-shadow: 0 4px 10px rgba(0,0,0,0.1), 0 0 1px rgba(0,0,0,0.2); overflow: hidden; } .donate .qrcode img { max-width: 280px; } .donate:hover .qrcode { display: block; } .donate:first-child:not(:last-child) .qrcode { left: -0.75rem; } .donate:last-child:not(:first-child) .qrcode { right: -0.75rem; } @media screen and (max-width: 768px) { #toc { display: none; position: fixed; margin: 1rem; left: 0; right: 0; bottom: 0; z-index: 100; max-height: calc(100vh - 2rem); overflow-y: auto; } #toc-mask { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99; background: rgba(0,0,0,0.7); } #toc.is-active, #toc-mask.is-active { display: block; } } /* --------------------------------- * Custom modifiers * --------------------------------- */ .is-borderless { border: none; } .is-size-7 { font-size: 0.85rem !important; } .is-7by1 { padding-top: 42.8%; } .is-7by1 img { bottom: 0; left: 0; position: absolute; right: 0; top: 0; } .is-overflow-x-auto { overflow-x: auto !important; } .is-flex-grow { flex-grow: 1 !important; } .is-flex-wrap { flex-wrap: wrap !important; } .is-flex-start { justify-content: start !important; } .is-flex-center { justify-content: center !important; } .is-flex-middle { align-items: center !important; } .has-order-1 { order: 1; } .has-order-2 { order: 2; } .has-order-3 { order: 3; } .has-mr-6 { margin-right: 0.5em !important; } .has-mb-6 { margin-bottom: 0.5em !important; } .has-mr-7 { margin-right: 0.25em !important; } .has-link-grey, .has-link-black-ter { transition: 0.2s ease; } .has-link-grey:hover, .has-link-black-ter:hover { color: #3273dc !important; } .has-link-grey { color: #7a7a7a !important; } .has-link-black-ter { color: #242424 !important; } @media screen and (max-width: 768px) { .has-text-centered-mobile { text-align: center !important; } .is-flex-center-mobile { justify-content: center !important; } .has-mt-5-mobile { margin-top: 1em !important; } } /* --------------------------------- * Font icon fixes * --------------------------------- */ .fa, .fab, .fal, .far, .fas { line-height: inherit; } /* --------------------------------- * Fix content elements * --------------------------------- */ .content h1, .content h2, .content h3, .content h4, .content h5, .content h6 { font-weight: 400; } .content h1 { font-size: 1.75em; } .content h2 { font-size: 1.5em; } .content h3 { font-size: 1.25em; } .content h4 { font-size: 1.125em; } .content h5 { font-size: 1em; } .content code, .content pre { font-size: 0.85em; font-family: \"Source Code Pro\", monospace, \"Microsoft YaHei\"; } .content code { color: #ff3860; background: transparent; padding: 0; } .content blockquote footer strong + cite { margin-left: 0.5em; } /* --------------------------------- * Fix code highlight * --------------------------------- */ figure.highlight { padding: 0; width: 100%; position: relative; margin: 1em 0 1em !important; } figure.highlight.folded .highlight-body { height: 0; } figure.highlight pre, figure.highlight table tr:hover { color: inherit; background: transparent; } figure.highlight table { width: auto; } figure.highlight table tr td { border: none; } figure.highlight table tr:not(:first-child) td { padding-top: 0; } figure.highlight table tr:not(:last-child) td { padding-bottom: 0; } figure.highlight pre { padding: 0; overflow: visible; } figure.highlight pre .line { line-height: 1.5rem; } figure.highlight figcaption, figure.highlight .gutter { background: rgba(200,200,200,0.15); } figure.highlight figcaption { padding: 0.3em 0.75em; text-align: left; font-style: normal; font-size: 0.8em; } figure.highlight figcaption:after { clear: both; content: \" \"; display: table; } figure.highlight figcaption span { font-weight: 500; font-family: \"Source Code Pro\", monospace, \"Microsoft YaHei\"; } figure.highlight figcaption .fold, figure.highlight figcaption a { color: #9a9a9a; } figure.highlight figcaption a { float: right; margin-left: 0.5em; } figure.highlight figcaption .fold { margin-right: 0.5em; cursor: pointer; } figure.highlight .highlight-body { overflow: auto; } figure.highlight .gutter { text-align: right; } figure.highlight .tag, figure.highlight .title, figure.highlight .number, figure.highlight .section { display: inherit; font: inherit; margin: inherit; padding: inherit; background: inherit; height: inherit; text-align: inherit; vertical-align: inherit; min-width: inherit; border-radius: inherit; } /* --------------------------------- * Overflow Table * --------------------------------- */ .table-overflow { overflow-x: auto; } .table-overflow table { width: auto !important; } .table-overflow table th { word-break: keep-all; } /* --------------------------------- * Fix Video * --------------------------------- */ .video-container { position: relative; padding-bottom: 56.25%; padding-top: 25px; height: 0; } .video-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } /* --------------------------------- * Fix Gist Snippet * --------------------------------- */ .gist table tr:hover { background: transparent; } .gist table td { border: none; } .gist .file { all: initial; } .post-copyright { font-size: 1rem; letter-spacing: 0.02rem; word-break: break-all; margin: 2.5rem 0 0; padding: 1rem 1rem; border-left: 3px solid #ff1700; background-color: #f9f9f9; }","link":"/css/style.css"},{"title":"","text":"$(document).ready(function () { var $button = $('#back-to-top'); var $footer = $('footer.footer'); var $mainColumn = $('.column-main'); var $leftSidebar = $('.column-left'); var $rightSidebar = $('.column-right'); var lastScrollTop = 0; var rightMargin = 20; var bottomMargin = 20; var lastState = null; var state = { base: { classname: 'card has-text-centered', left: '', width: 64, bottom: bottomMargin, 'border-radius': 4 } }; state['desktop-hidden'] = Object.assign({}, state.base, { classname: state.base.classname + ' rise-up', }); state['desktop-visible'] = Object.assign({}, state['desktop-hidden'], { classname: state['desktop-hidden'].classname + ' fade-in', }); state['desktop-dock'] = Object.assign({}, state['desktop-visible'], { classname: state['desktop-visible'].classname + ' fade-in', width: 40, 'border-radius': '50%' }); state['mobile-hidden'] = Object.assign({}, state.base, { classname: state.base.classname + ' fade-in', right: rightMargin }); state['mobile-visible'] = Object.assign({}, state['mobile-hidden'], { classname: state['mobile-hidden'].classname + ' rise-up', }); function isStateEquals(prev, next) { for (var prop in prev) { if (!next.hasOwnProperty(prop) || next[prop] !== prev[prop]) { return false; } } for (var prop in next) { if (!prev.hasOwnProperty(prop) || prev[prop] !== prev[prop]) { return false; } } return true; } function applyState(state) { if (lastState !== null && isStateEquals(lastState, state)) { return; } $button.attr('class', state.classname); for (let prop in state) { if (prop === 'classname') { continue; } $button.css(prop, state[prop]); } lastState = state; } function isDesktop() { return window.innerWidth >= 1078; } function isTablet() { return window.innerWidth >= 768 && !isDesktop(); } function isScrollUp() { return $(window).scrollTop() < lastScrollTop && $(window).scrollTop() > 0; } function hasLeftSidebar() { return $leftSidebar.length > 0; } function hasRightSidebar() { return $rightSidebar.length > 0; } function getRightSidebarBottom() { if (!hasRightSidebar()) { return 0; } return Math.max.apply(null, $rightSidebar.find('.widget').map(function () { return $(this).offset().top + $(this).outerHeight(true); })); } function getScrollTop() { return $(window).scrollTop(); } function getScrollBottom() { return $(window).scrollTop() + $(window).height(); } function getButtonWidth() { return $button.outerWidth(true); } function getButtonHeight() { return $button.outerHeight(true); } function updateScrollTop() { lastScrollTop = $(window).scrollTop(); } function update() { // desktop mode or tablet mode with only right sidebar enabled if (isDesktop() || (isTablet() && !hasLeftSidebar() && hasRightSidebar())) { var nextState; var padding = ($mainColumn.outerWidth() - $mainColumn.width()) / 2; var maxLeft = $(window).width() - getButtonWidth() - rightMargin; var maxBottom = $footer.offset().top + getButtonHeight() / 2 + bottomMargin; if (getScrollTop() == 0 || getScrollBottom() < getRightSidebarBottom() + padding + getButtonHeight()) { nextState = state['desktop-hidden']; } else if (getScrollBottom() < maxBottom) { nextState = state['desktop-visible']; } else { nextState = Object.assign({}, state['desktop-dock'], { bottom: getScrollBottom() - maxBottom + bottomMargin }); } var left = $mainColumn.offset().left + $mainColumn.outerWidth() + padding; nextState = Object.assign({}, nextState, { left: Math.min(left, maxLeft) }); applyState(nextState); } else { // mobile and tablet mode if (!isScrollUp()) { applyState(state['mobile-hidden']); } else { applyState(state['mobile-visible']); } updateScrollTop(); } } update(); $(window).resize(update); $(window).scroll(update); $('#back-to-top').on('click', function () { $('body, html').animate({ scrollTop: 0 }, 400); }); });","link":"/js/back-to-top.js"},{"title":"","text":"(function () { function $() { return Array.prototype.slice.call(document.querySelectorAll.apply(document, arguments)); } $('body > .navbar, body > .section, body > .footer').forEach(function (element) { element.style.transition = '0s'; element.style.opacity = '0'; }); document.querySelector('body > .navbar').style.transform = 'translateY(-100px)'; ['.column-main > .card', '.column-left > .card, .column-right-shadow > .card', '.column-right > .card'].map(function (selector) { $(selector).forEach(function (element) { element.style.transition = '0s'; element.style.opacity = '0'; element.style.transform = 'scale(0.8)'; element.style.transformOrigin = 'center top'; }); }); setTimeout(function () { $('body > .navbar, body > .section, body > .footer').forEach(function (element) { element.style.opacity = '1'; element.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out'; }); document.querySelector('body > .navbar').style.transform = 'translateY(0)'; ['.column-main > .card', '.column-left > .card, .column-right-shadow > .card', '.column-right > .card'].map(function (selector) { var i = 1; $(selector).forEach(function (element) { setTimeout(function () { element.style.opacity = '1'; element.style.transform = ''; element.style.transition = 'opacity 0.3s ease-out, transform 0.3s ease-out'; }, i * 100); i++; }); }); }); })();","link":"/js/animation.js"},{"title":"","text":"document.addEventListener('DOMContentLoaded', function () { if (typeof ($.fn.lightGallery) === 'function') { $('.article').lightGallery({ selector: '.gallery-item' }); } if (typeof ($.fn.justifiedGallery) === 'function') { if ($('.justified-gallery > p > .gallery-item').length) { $('.justified-gallery > p > .gallery-item').unwrap(); } $('.justified-gallery').justifiedGallery(); } });","link":"/js/gallery.js"},{"title":"","text":"!function(e,t,a){ function n(){ c(\".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}\"), o(), r() } function r(){ for(var e=0;e","link":"/js/clicklove.js"},{"title":"","text":"(function ($) { $('.article img:not(\".not-gallery-item\")').each(function () { // wrap images with link and add caption if possible if ($(this).parent('a').length === 0) { $(this).wrap(''); if (this.alt) { $(this).after('' + this.alt + ''); } } }); $('.article > .content > table').each(function () { if ($(this).width() > $(this).parent().width()) { $(this).wrap(''); } }); function adjustNavbar() { const navbarWidth = $('.navbar-main .navbar-start').outerWidth() + $('.navbar-main .navbar-end').outerWidth(); if ($(document).outerWidth() < navbarWidth) { $('.navbar-main .navbar-menu').addClass('is-flex-start'); } else { $('.navbar-main .navbar-menu').removeClass('is-flex-start'); } } adjustNavbar(); $(window).resize(adjustNavbar); $('figure.highlight table').wrap(''); if (typeof (IcarusThemeSettings) !== 'undefined' && typeof (IcarusThemeSettings.article) !== 'undefined' && typeof (IcarusThemeSettings.article.highlight) !== 'undefined') { if (typeof (ClipboardJS) !== 'undefined' && IcarusThemeSettings.article.highlight.clipboard) { $('figure.highlight').each(function () { var id = 'code-' + Date.now() + (Math.random() * 1000 | 0); var button = ''; $(this).attr('id', id); if ($(this).find('figcaption').length) { $(this).find('figcaption').prepend(button); } else { $(this).prepend('' + button + ''); } }); new ClipboardJS('.highlight .copy'); } var fold = IcarusThemeSettings.article.highlight.fold; if (fold.trim()) { var button = '' + (fold === 'unfolded' ? '' : '') + ''; $('figure.highlight').each(function () { if ($(this).find('figcaption').length) { $(this).find('figcaption').prepend(button); } else { $(this).prepend('' + button + ''); } }); function toggleFold(codeBlock, isFolded) { var $toggle = $(codeBlock).find('.fold i'); !isFolded ? $(codeBlock).removeClass('folded') : $(codeBlock).addClass('folded'); !isFolded ? $toggle.removeClass('fa-angle-right') : $toggle.removeClass('fa-angle-down'); !isFolded ? $toggle.addClass('fa-angle-down') : $toggle.addClass('fa-angle-right'); } $('figure.highlight').each(function () { toggleFold(this, fold === 'folded'); }); $('figure.highlight figcaption .fold').click(function () { var $code = $(this).closest('figure.highlight'); toggleFold($code.eq(0), !$code.hasClass('folded')); }); } } var $toc = $('#toc'); if ($toc.length > 0) { var $mask = $(''); $mask.attr('id', 'toc-mask'); $('body').append($mask); function toggleToc() { $toc.toggleClass('is-active'); $mask.toggleClass('is-active'); } $toc.on('click', toggleToc); $mask.on('click', toggleToc); $('.navbar-main .catalogue').on('click', toggleToc); } })(jQuery);","link":"/js/main.js"},{"title":"","text":"/** * Insight search plugin * @author PPOffice { @link https://github.com/ppoffice } */ (function ($, CONFIG) { var $main = $('.ins-search'); var $input = $main.find('.ins-search-input'); var $wrapper = $main.find('.ins-section-wrapper'); var $container = $main.find('.ins-section-container'); $main.parent().remove('.ins-search'); $('body').append($main); function section (title) { return $('').addClass('ins-section') .append($('').addClass('ins-section-header').text(title)); } function searchItem (icon, title, slug, preview, url) { return $('').addClass('ins-selectable').addClass('ins-search-item') .append($('').append($('').addClass('fa').addClass('fa-' + icon)) .append($('').addClass('ins-title').text(title != null && title !== '' ? title : CONFIG.TRANSLATION['UNTITLED'])) .append(slug ? $('').addClass('ins-slug').text(slug) : null)) .append(preview ? $('').addClass('ins-search-preview').text(preview) : null) .attr('data-url', url); } function sectionFactory (type, array) { var sectionTitle; var $searchItems; if (array.length === 0) return null; sectionTitle = CONFIG.TRANSLATION[type]; switch (type) { case 'POSTS': case 'PAGES': $searchItems = array.map(function (item) { // Use config.root instead of permalink to fix url issue return searchItem('file', item.title, null, item.text.slice(0, 150), item.link); }); break; case 'CATEGORIES': case 'TAGS': $searchItems = array.map(function (item) { return searchItem(type === 'CATEGORIES' ? 'folder' : 'tag', item.name, item.slug, null, item.link); }); break; default: return null; } return section(sectionTitle).append($searchItems); } function parseKeywords (keywords) { return keywords.split(' ').filter(function (keyword) { return !!keyword; }).map(function (keyword) { return keyword.toUpperCase(); }); } /** * Judge if a given post/page/category/tag contains all of the keywords. * @param Object obj Object to be weighted * @param Array fields Object's fields to find matches */ function filter (keywords, obj, fields) { var keywordArray = parseKeywords(keywords); var containKeywords = keywordArray.filter(function (keyword) { var containFields = fields.filter(function (field) { if (!obj.hasOwnProperty(field)) return false; if (obj[field].toUpperCase().indexOf(keyword) > -1) return true; }); if (containFields.length > 0) return true; return false; }); return containKeywords.length === keywordArray.length; } function filterFactory (keywords) { return { POST: function (obj) { return filter(keywords, obj, ['title', 'text']); }, PAGE: function (obj) { return filter(keywords, obj, ['title', 'text']); }, CATEGORY: function (obj) { return filter(keywords, obj, ['name', 'slug']); }, TAG: function (obj) { return filter(keywords, obj, ['name', 'slug']); } }; } /** * Calculate the weight of a matched post/page/category/tag. * @param Object obj Object to be weighted * @param Array fields Object's fields to find matches * @param Array weights Weight of every field */ function weight (keywords, obj, fields, weights) { var value = 0; parseKeywords(keywords).forEach(function (keyword) { var pattern = new RegExp(keyword, 'img'); // Global, Multi-line, Case-insensitive fields.forEach(function (field, index) { if (obj.hasOwnProperty(field)) { var matches = obj[field].match(pattern); value += matches ? matches.length * weights[index] : 0; } }); }); return value; } function weightFactory (keywords) { return { POST: function (obj) { return weight(keywords, obj, ['title', 'text'], [3, 1]); }, PAGE: function (obj) { return weight(keywords, obj, ['title', 'text'], [3, 1]); }, CATEGORY: function (obj) { return weight(keywords, obj, ['name', 'slug'], [1, 1]); }, TAG: function (obj) { return weight(keywords, obj, ['name', 'slug'], [1, 1]); } }; } function search (json, keywords) { var WEIGHTS = weightFactory(keywords); var FILTERS = filterFactory(keywords); var posts = json.posts; var pages = json.pages; var tags = json.tags; var categories = json.categories; return { posts: posts.filter(FILTERS.POST).sort(function (a, b) { return WEIGHTS.POST(b) - WEIGHTS.POST(a); }).slice(0, 5), pages: pages.filter(FILTERS.PAGE).sort(function (a, b) { return WEIGHTS.PAGE(b) - WEIGHTS.PAGE(a); }).slice(0, 5), categories: categories.filter(FILTERS.CATEGORY).sort(function (a, b) { return WEIGHTS.CATEGORY(b) - WEIGHTS.CATEGORY(a); }).slice(0, 5), tags: tags.filter(FILTERS.TAG).sort(function (a, b) { return WEIGHTS.TAG(b) - WEIGHTS.TAG(a); }).slice(0, 5) }; } function searchResultToDOM (searchResult) { $container.empty(); for (var key in searchResult) { $container.append(sectionFactory(key.toUpperCase(), searchResult[key])); } } function scrollTo ($item) { if ($item.length === 0) return; var wrapperHeight = $wrapper[0].clientHeight; var itemTop = $item.position().top - $wrapper.scrollTop(); var itemBottom = $item[0].clientHeight + $item.position().top; if (itemBottom > wrapperHeight + $wrapper.scrollTop()) { $wrapper.scrollTop(itemBottom - $wrapper[0].clientHeight); } if (itemTop < 0) { $wrapper.scrollTop($item.position().top); } } function selectItemByDiff (value) { var $items = $.makeArray($container.find('.ins-selectable')); var prevPosition = -1; $items.forEach(function (item, index) { if ($(item).hasClass('active')) { prevPosition = index; return; } }); var nextPosition = ($items.length + prevPosition + value) % $items.length; $($items[prevPosition]).removeClass('active'); $($items[nextPosition]).addClass('active'); scrollTo($($items[nextPosition])); } function gotoLink ($item) { if ($item && $item.length) { location.href = $item.attr('data-url'); } } $.getJSON(CONFIG.CONTENT_URL, function (json) { if (location.hash.trim() === '#ins-search') { $main.addClass('show'); } $input.on('input', function () { var keywords = $(this).val(); searchResultToDOM(search(json, keywords)); }); $input.trigger('input'); }); var touch = false; $(document).on('click focus', '.navbar-main .search', function () { $main.addClass('show'); $main.find('.ins-search-input').focus(); }).on('click touchend', '.ins-search-item', function (e) { if (e.type !== 'click' && !touch) { return; } gotoLink($(this)); touch = false; }).on('click touchend', '.ins-close', function (e) { if (e.type !== 'click' && !touch) { return; } $('.navbar-main').css('pointer-events', 'none'); setTimeout(function(){ $('.navbar-main').css('pointer-events', 'auto'); }, 400); $main.removeClass('show'); touch = false; }).on('keydown', function (e) { if (!$main.hasClass('show')) return; switch (e.keyCode) { case 27: // ESC $main.removeClass('show'); break; case 38: // UP selectItemByDiff(-1); break; case 40: // DOWN selectItemByDiff(1); break; case 13: //ENTER gotoLink($container.find('.ins-selectable.active').eq(0)); break; } }).on('touchstart', function (e) { touch = true; }).on('touchmove', function (e) { touch = false; }); })(jQuery, window.INSIGHT_CONFIG);","link":"/js/insight.js"}],"posts":[{"title":"hexo-icarus博客更改记录","text":"博客配置环境如下：Win 10hexo 3.9.0hexo-helper-live2d@3.1.0icarus 2.6.0 1、更改文章页面为两栏布局主题默认是三栏布局，并且显示了很多的 widget ，但在阅读文章时显得有些拥挤。因此在文章页面，修改为两栏布局，并显示特定的 widget。修改includes/helpers/layout.js 12345678910 const widgets = hexo.extend.helper.get('get_config').bind(this)('widgets');- return widgets.filter(widget =&gt; widget.hasOwnProperty('position') &amp;&amp; widget.position === position);+ if (this.page.layout !== 'post') {+ return widgets.filter(widget =&gt; widget.hasOwnProperty('position') &amp;&amp; widget.position === position);+ }+ if (position === 'left') {+ return widgets.filter(widget =&gt; widget.hasOwnProperty('position') &amp;&amp; (widget.type === 'toc' || widget.type === 'profile'));+ } else {+ return []+ } 但两栏整体宽度跟三栏不同。因此强制指定为三栏布局，并且修改相应的宽度，这样所有的页面侧边栏宽度保持一致。修改layout/common/widget.ejs 123456 &lt;% function side_column_class() { switch (column_count()) { case 2:- return 'is-4-tablet is-4-desktop is-4-widescreen';+ return 'is-4-tablet is-4-desktop is-3-widescreen'; case 3: 修改layout/layout.ejs 12345678910-&lt;body class=\"is-&lt;%= column_count() %&gt;-column\"&gt;+&lt;body class=\"is-3-column\"&gt; &lt;%- partial('common/navbar', { page }) %&gt; &lt;% function main_column_class() { switch (column_count()) { case 1: return 'is-12'; case 2:- return 'is-8-tablet is-8-desktop is-8-widescreen';+ return 'is-8-tablet is-8-desktop is-9-widescreen'; 并修改在不同屏幕小大下的宽度修改source/css/style.styl 12345678910111213 .is-2-column .container max-width: screen-desktop - 2 * gap width: screen-desktop - 2 * gap+ .is-3-column .container+ max-width: screen-widescreen - gap+ width: screen-widescreen - gap @media screen and (min-width: screen-fullhd)+ .is-3-column .container+ max-width: screen-fullhd - 2 * gap+ width: screen-fullhd - 2 * gap .is-2-column .container max-width: screen-widescreen - 2 * gap width: screen-widescreen - 2 * gap 2、优化文章标题布局标题移动到文章信息上方，增加更新时间，并增加了icon。修改layout/common/article.ejs 1234567891011121314151617181920212223242526272829303132333435363738394041 &lt;div class=\"card-content article &lt;%= post.hasOwnProperty('direction') ? post.direction : '' %&gt;\"&gt;+ &lt;h1 class=\"title is-size-3 is-size-4-mobile has-text-weight-normal\"&gt;+ &lt;% if (index) { %&gt;+ &lt;a class=\"has-link-black-ter\" href=\"&lt;%- url_for(post.link ? post.link : post.path) %&gt;\"&gt;&lt;%= post.title %&gt;&lt;/a&gt;+ &lt;% } else { %&gt;+ &lt;%= post.title %&gt;+ &lt;% } %&gt;+ &lt;/h1&gt; &lt;% if (post.layout != 'page') { %&gt; &lt;div class=\"level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto\"&gt; &lt;div class=\"level-left\"&gt;- &lt;time class=\"level-item has-text-grey\" datetime=\"&lt;%= date_xml(post.date) %&gt;\"&gt;&lt;%= date(post.date) %&gt;&lt;/time&gt;+ &lt;time class=\"level-item has-text-grey\" datetime=\"&lt;%= date_xml(post.date) %&gt;\"&gt;&lt;i class=\"far fa-calendar-alt\"&gt;&amp;nbsp;&lt;/i&gt;&lt;%= date(post.date) %&gt;&lt;/time&gt;+ &lt;% if (post.updated &amp;&amp; post.updated &gt; post.date) { %&gt;+ &lt;time class=\"level-item has-text-grey is-hidden-mobile\" datetime=\"&lt;%= date_xml(post.updated) %&gt;\"&gt;&lt;i class=\"far fa-calendar-check\"&gt;&amp;nbsp;&lt;/i&gt;&lt;%= date(post.updated) %&gt;&lt;/time&gt;+ &lt;% } %&gt; &lt;% if (post.categories &amp;&amp; post.categories.length) { %&gt;&lt;div class=\"level-item\"&gt;+ &lt;i class=\"far fa-folder-open has-text-grey\"&gt;&lt;/i&gt;&amp;nbsp; &lt;%- list_categories(post.categories, { class: 'has-link-grey ', show_count: false,@@ -23,6 +34,7 @@ &lt;% } %&gt; &lt;% if (!has_config('article.readtime') || get_config('article.readtime') === true) { %&gt; &lt;span class=\"level-item has-text-grey\"&gt;+ &lt;i class=\"far fa-clock\"&gt;&lt;/i&gt;&amp;nbsp; &lt;% const words = word_count(post._content); %&gt; &lt;% const time = duration((words / 150.0) * 60, 'seconds') %&gt; &lt;%= `${ time.locale(get_config('language', 'en')).humanize() } ${ __('article.read')} (${ __('article.about') } ${ words } ${ __('article.words') })` %&gt;@@ -37,35 +49,54 @@ &lt;/div&gt; &lt;/div&gt; &lt;% } %&gt;- &lt;h1 class=\"title is-size-3 is-size-4-mobile has-text-weight-normal\"&gt;- &lt;% if (index) { %&gt;- &lt;a class=\"has-link-black-ter\" href=\"&lt;%- url_for(post.link ? post.link : post.path) %&gt;\"&gt;&lt;%= post.title %&gt;&lt;/a&gt;- &lt;% } else { %&gt;- &lt;%= post.title %&gt;- &lt;% } %&gt;- &lt;/h1&gt; 其中创建时间使用日期。修改source/js/main.js 12345- if (typeof(moment) === 'function') {- $('.article-meta time').each(function () {- $(this).text(moment($(this).attr('datetime')).fromNow());- });- } 3、增加版权说明修改layout/common/article.ejs 1234567891011121314 &lt;div class=\"content\"&gt; &lt;%- index &amp;&amp; post.excerpt ? post.excerpt : post.content %&gt; &lt;/div&gt;+ &lt;% if (!index &amp;&amp; post.layout === 'post' &amp;&amp; post.copyright !== false) { %&gt;+ &lt;ul class=\"post-copyright\"&gt;+ &lt;li&gt;&lt;strong&gt;本文标题：&lt;/strong&gt;&lt;a href=\"&lt;%= post.permalink %&gt;\"&gt;&lt;%= page.title %&gt;&lt;/a&gt;&lt;/li&gt;+ &lt;li&gt;&lt;strong&gt;本文作者：&lt;/strong&gt;&lt;a href=\"&lt;%= theme.url %&gt;\"&gt;&lt;%= theme.author %&gt;&lt;/a&gt;&lt;/li&gt;+ &lt;li&gt;&lt;strong&gt;本文链接：&lt;/strong&gt;&lt;a href=\"&lt;%= post.permalink %&gt;\"&gt;&lt;%= post.permalink %&gt;&lt;/a&gt;&lt;/li&gt;+ &lt;li&gt;&lt;strong&gt;发布时间：&lt;/strong&gt;&lt;%= post.date.format(\"YYYY-MM-DD\") %&gt;&lt;/li&gt;+ &lt;li&gt;&lt;strong&gt;版权声明：&lt;/strong&gt;本博客所有文章除特别声明外，均采用 &lt;a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh\" rel=\"external nofollow\" target=\"_blank\"&gt;CC BY-NC-SA 4.0&lt;/a&gt; 许可协议。转载请注明出处！+ &lt;/li&gt;+ &lt;/ul&gt;+ &lt;% } %&gt; &lt;% if (!index &amp;&amp; post.tags &amp;&amp; post.tags.length) { %&gt; 并增加样式修改source/css/style.styl 12345678+.post-copyright+ font-size: 1rem+ letter-spacing: 0.02rem+ word-break: break-all+ margin: 2.5rem 0 0+ padding: 1rem 1rem+ border-left: 3px solid #FF1700+ background-color: #F9F9F9 4、增加标题自动计数修改source/css/style.styl 1234567+.article {counter-reset:section}+.article h2{counter-reset:sub-section}+.article h3{counter-reset:composite}+.article h4{counter-reset:detail}+.article h2:before{content:counter(section) \" \";counter-increment:section}+.article h3:before{content:counter(section) \".\" counter(sub-section) \" \";counter-increment:sub-section}+.article h4:before{content:counter(section) \".\" counter(sub-section) \".\" counter(composite) \" \";counter-increment:composite} 5、默认显示目录正常开启目录需要在 meta 信息中加入 toc: true 开启，但绝大部分文章都是有目录的，因此修改为默认开启。因为有多个地方引用了 get_config(‘toc’) 并且需要判断当前页面，改起来稍微麻烦一些，因此直接修改了 get_config 方法。修改includes/helpers/config.js 1234567 return defaultValue; } else { const property = readProperty(specs, configName);- return property === null ? null : property[descriptors.defaultValue];+ const result = property === null ? null : property[descriptors.defaultValue];+ return (configName === 'toc' &amp;&amp; this.page.layout === 'post' &amp;&amp; result === null) ? true : result; } 6、页面footer显示一组icon默认情况下一个icon对应一个链接，但例如 CC BY-NC-SA 4.0 需要四个图标一组。因此修改代码，使得配置 link.icon 可以是一个数组，效果可以参考页面底部。修改layout/common/footer.ejs 1234 &lt;% } else { %&gt;- &lt;i class=\"&lt;%= link.icon %&gt;\"&gt;&lt;/i&gt;+ &lt;% for (let icon of (Array.isArray(link.icon) ? link.icon : [link.icon])) { %&gt;&lt;i class=\"&lt;%= icon %&gt;\"&gt;&lt;/i&gt;&amp;nbsp;&lt;% } %&gt; &lt;% } %&gt; 修改includes/specs/icon_link.spec.js 12345 icon: { [required]: true,- [type]: 'string',+ [type]: ['string', 'array'], [doc]: 'Link icon class names' 在主题的_config.yml中配置如下: 123456789footer: links: CC BY-NC-SA 4.0: icon: - fab fa-creative-commons - fab fa-creative-commons-by - fab fa-creative-commons-nc - fab fa-creative-commons-sa url: 'https://creativecommons.org/licenses/by-nc-sa/4.0/' 7、可以配置文章开头是否显示图片Icarus 支持文章设置一个图片，在文章开头、最近的文章、时间线等地方显示。但有些图放大之后会显得很不协调，因此修改以支持自定义是否显示。修改 has_thumbnail 方法，增加参数 isArticle 参数，默认 false，并在文章页面修改调用参数。修改includes/helpers/page.js 1234567891011- hexo.extend.helper.register('has_thumbnail', function (post) {+ hexo.extend.helper.register('has_thumbnail', function (post, isArticle = false) { const getConfig = hexo.extend.helper.get('get_config').bind(this); const allowThumbnail = getConfig('article.thumbnail', true); if (!allowThumbnail) { return false; }+ if (isArticle &amp;&amp; post['article-thumbnail'] === false){+ return false;+ } return post.hasOwnProperty('thumbnail') &amp;&amp; post.thumbnail; 修改layout/common/article.ejs 1234 &lt;div class=\"card\"&gt;- &lt;% if (has_thumbnail(post)) { %&gt;+ &lt;% if (has_thumbnail(post, true)) { %&gt; &lt;div class=\"card-image\"&gt; 这样修改之后，如果文章 meta 信息中包含 article-thumbnail: false，就可以取消图片的显示。 8、修改博客语言为中文Icarus提供多语言切换，默认是英文的。为了改成中文，进入项目目录，修改_config.yml 中的language: zh-C 9、给博客增加点击爱心效果在/themes/icarus/source/js/src下新建文件clicklove.js，接着把该链接下的代码拷贝粘贴到clicklove.js文件中。 123456789101112131415161718192021222324252627282930313233343536373839404142!function(e,t,a){ function n(){ c(\".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}\"), o(), r() } function r(){ for(var e=0;e&lt;d.length;e++) d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText=\"left:\"+d[e].x+\"px;top:\"+d[e].y+\"px;opacity:\"+d[e].alpha+\";transform:scale(\"+d[e].scale+\",\"+d[e].scale+\") rotate(45deg);background:\"+d[e].color+\";z-index:99999\"); requestAnimationFrame(r) } function o(){ var t=\"function\"==typeof e.onclick&amp;&amp;e.onclick; e.onclick=function(e){ t&amp;&amp;t(),i(e) } }function i(e){ var a=t.createElement(\"div\"); a.className=\"heart\",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a) } function c(e){ var a=t.createElement(\"style\");a.type=\"text/css\"; try{ a.appendChild(t.createTextNode(e)) } catch(t){ a.styleSheet.cssText=e } t.getElementsByTagName(\"head\")[0].appendChild(a) } function s(){ return\"rgb(\"+~~(255*Math.random())+\",\"+~~(255*Math.random())+\",\"+~~(255*Math.random())+\")\" } var d=[]; e.requestAnimationFrame=function(){ return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){ setTimeout(e,1e3/60) } }(), n()}(window,document); 在/theme/icarus/layout/layout.ejs的之后增加语句 1&lt;script src=\"/js/clicklove.js\"&gt;&lt;/script&gt; 10、增加看板娘插件live2D（可爱的黑猫）安装hexo-helper-live2d首先，在博客的根目录下执行下方命令，并可以得到类似下方的输出： 1234567$ npm install hexo-helper-live2d --savenpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;})+ hexo-helper-live2d@3.1.0added 6 packages from 6 contributors and audited 5818 packages in 22.674sfound 0 vulnerabilities 安装你看中的模型我的博客安装的是右下角这只黑猫,在博客的根目录下执行下方命令，并可以得到类似下方的输出： 1234567$ npm install live2d-widget-model-hijiki --savenpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.4 (node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.4: wanted {&quot;os&quot;:&quot;darwin&quot;,&quot;arch&quot;:&quot;any&quot;} (current: {&quot;os&quot;:&quot;win32&quot;,&quot;arch&quot;:&quot;x64&quot;})+ live2d-widget-model-hijiki@1.0.5added 1 package and audited 5819 packages in 9.782sfound 0 vulnerabilities 然后在博客根目录下新建live2d-models文件夹，将node_modules下你刚刚安装的模型，例如我的博客是live2d-widget-model-hijiki,复制到live2d-models下。 个性化配置你的模型打开博客根目录下的_config.yml文件，在配置文件的最后添加如下内容： 123456789101112131415161718live2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ tagMode: false debug: false model: use: live2d-widget-model-hijiki display: position: right width: 200 height: 400 mobile: show: true react: opacity: 0.7 然后来一波三连击hexo clean&amp;&amp;hexo g -d即可看到右下角的黑猫了。 11、配置你的about tag界面我使用的hexo 3.9.0版本，博客基本配置弄完后，点击about界面显示404，所以要自己配置一下。做过的无用操作： 1复制主题下的source文件夹的所有文件到博客主目录source文件夹下。 有用操作： 使用hexo命令创建一个名为about的页面1hexo new page &quot;tags&quot; 此时，在blog/source/about下会生成index.md文件，编辑index.md文件即可自定义about界面内容，我的如下： 1234567---title: 关于我date: 2019-12-09 17:44:23type: \"page\"layout: \"page\"donate: false--- 12、添加busuanzi计数，显示网站运行时间和访问人数修改主题配置文件_config.yml 1busuanzi: true 显示访问人数和次数修改 /layout/common/footer.ejs 12345678&lt;% if (busuanzi) { %&gt; &lt;br&gt; &lt;span class=\"busuanzi_container_site_uv\"&gt; &lt;span class=\"busuanzi_container_site_pv\"&gt; 本站总访问量-&lt;span id=\"busuanzi_value_site_pv\"&gt;&lt;/span&gt;-次 | 您是第-&lt;span id=\"busuanzi_value_site_uv\"&gt;&lt;/span&gt;-位小伙伴 &lt;/span&gt; &lt;/span&gt; &lt;% } %&gt; 这里用的是而不是是因为安装live2d后，导致busuanzi不显示访问人数，issue链接: https://github.com/EYHN/hexo-helper-live2d/issues/150。 显示网站运行时间修改 /layout/common/footer.ejs 123456789101112131415161718&lt;div class=\"level-end\"&gt; &lt;span id=\"timeDate\"&gt;载入天数...&lt;/span&gt;&lt;span id=\"times\"&gt;载入时分秒...&lt;/span&gt; &lt;script&gt; var now = new Date(); function createtime() { var grt= new Date(\"12/8/2019 18:32:00\");//此处修改你的建站时间或者网站上线时间 now.setTime(now.getTime()+250); days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 ){hnum = \"0\" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = \"0\" + mnum;} seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 ){snum = \"0\" + snum;} document.getElementById(\"timeDate\").innerHTML = \"本站已安全运行 \"+dnum+\" 天 \"; document.getElementById(\"times\").innerHTML = hnum + \" 小时 \" + mnum + \" 分 \" + snum + \" 秒\"; } setInterval(\"createtime()\",250); &lt;/script&gt; 13、增加profile下面的空间，可以放上自己想说的话修改 /layout/widget/profile.ejs, 在最后加上你想说的话 1234567 &lt;% } %&gt; &lt;/div&gt; &lt;% } %&gt; + &lt;hr&gt; + &lt;p id=\"evan\"&gt;当我沿着一条路走下去的时候，心里总想着另一条路上的事。这种时候，我心里很乱。&lt;/p&gt;&lt;/div&gt;&lt;/div&gt; 14、置顶文章在每篇文章的top comment部分配置top字段，初始值是100，如果要置顶，需要设置为大于100的值，值越大越靠前。相等时，根据时间降序。具体设置如下: 12345678title: 一亩三分地自动签到脚本top: 102toc: truerecommend: 1 date: 2019-09-19 22:10:43thumbnail: https://cdn.jsdelivr.net/gh/removeif/blog_image/img/2019/20190919221611.pngtags: categories: 修改 /layout/common/article.ejs 123456789&lt;% if (post.layout != 'page') { %&gt;&lt;div class=\"level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto\"&gt; &lt;div class=\"level-left\"&gt;+ &lt;% if(post.top &gt; 100) { %&gt;+ &lt;div class=\"level-item tag is-danger\" style=\"background-color: #3273dc;\"&gt;Pin&lt;/div&gt;+ &lt;%} %&gt; &lt;time class=\"level-item has-text-grey\" datetime=\"&lt;%= date_xml(post.date) %&gt;\"&gt;&lt;%= date(post.date) %&gt;&lt;/time&gt; &lt;% if (post.categories &amp;&amp; post.categories.length) { %&gt; &lt;div class=\"level-item\"&gt; 15、添加51LA统计这是一个分析网站访问数据的挂件。在_config.yml的busuanzi: false代码下发添加配置： 123plugins: #51.la统计 tj51la: true 打开layout/common/footer.ejs文件的下方添加如下代码： 123&lt;% if (has_config('plugins.tj51la') ? get_config('plugins.tj51la') : false) { %&gt; &lt;% } %&gt; 在layout/plugin目录新建文件tj51la.ejs注意将xxxxxx修改为你自己的id. 12345&lt;% if (plugin !== false) { %&gt; &lt;% if (head) { %&gt; &lt;script type=\"text/javascript\" src=\"https://js.users.51.la/xxxxxx.js\"&gt;&lt;/script&gt; &lt;% } %&gt;&lt;% } %&gt; 这个id需要自己去51LA官网注册获取。 16、添加评论插件valine，并配置邮件提醒（valine-admin)具体配置参见valine-admin作者教程：http://www.zhaojun.im/hexo-valine-modify/ tips:如果使用gmail作为接收邮&gt;件提醒和发送邮件提醒的邮箱好像会出问题，但如果你和我一样习惯使用gmail邮箱，推荐先使用qq邮箱作为接发邮箱,然后设置qq邮箱自动转发到gmail即可。 17、配置网站头像和logo推荐一个不错的网站：https://www.pinterest.com/里面有很多高清有创意的图。 18、给博客配置个人域名在阿里云买个域名最好买.com结尾的，别的域名可能不受认可，可能会被当成违法网站封禁（据说，我瞎编的）。 给域名备案未备案的域名在国内很容易被封禁。 买个ECS服务器由于有学生优惠，所以花了120多买了个云服务器，给域名备案时会自动将服务器关联到你购买的域名的。 将域名映射到你的博客转到你的域名界面添加解析第一行记录值改为你的github博客地址。然后在blog/source下新建CNAME文件，记住这个文件没有类型(新建txt，重命名将后缀删除即可)，里面写上自己购买的域名，我的是 zoutq.com。hexo g -d即可。 19、hexo版本回退遇到的bug之前遇到一个奇怪的bug，hexo 4.0.0配置icarus时，点击返回顶部按钮总是显示about blank，后来去hexo github上提交了issue才知道是版本问题，回退到了hexo 3.9.0。回退操作如下：在你的博客根目录下使用命令 1npm install hexo@3.9.0 --save 但在hexo 4.0.0下回退会发现博客界面直接404，public的文件夹下除tags和categories文件夹外全被删除，具体看issue: https://github.com/ppoffice/hexo-theme-icarus/issues/567。多亏有热心大佬发现是ignore配置的问题：修改根目录下的_config.yml文件： 123456789# _config.yml # Include / Exclude file(s) ## include:/exclude: options only apply to the 'source/' folder include: exclude:- ignore:+ # ignore: 或者 12ignore:+ - \"**/node_modules/**\" 20、待解决问题由于不懂前端，我碰到很多坑，每次遇到无法修复的只能重头配置，这是第三次配置，但有一个问题始终没有解决：配置完以上所有后，我的站内搜索功能突然失效以及clicklove效果也失效，浏览器调试报错 123Uncaught SyntaxError: Unexpected end of input in clicklove.jsUncaught SyntaxError: Unexpected token '&lt;' in main.jsUncaught SyntaxError: Unexpected token '&lt;' in insight.js 并且其实在之前的一次配置(未配置上live2d)，我的站内搜索(insight)也莫名其妙失效，点击显示about blocked,报错也和上面一样，重新配置后又突然好了，但是安装live2d后，虽然不再是点击搜索显示about blocked，但报错一模一样。 参考文章： 1、https://www.alphalxy.com/2019/03/customize-icarus/2、https://angericky.github.io/2018/12/24/icarus%E4%B8%AA%E6%80%A7%E5%AE%9A%E5%88%B6/3、https://nave.work/Hexo%E4%B8%BB%E9%A2%98%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0-%E4%BB%8Ecactus%E5%88%B0icarus.html4、https://dp2px.com/2019/06/04/icarus-theme/5、https://www.cnblogs.com/shwee/p/11421156.html6、https://www.xuqingtang.top/2018/02/02/%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0GitHub%E6%A1%8C%E9%9D%A2%E7%89%88-8%E9%85%8D%E7%BD%AE%E4%BD%A0%E7%9A%84Hexo/#1-%E5%AE%8C%E5%96%84%E4%BD%A0%E7%9A%84%E9%A1%B5%E9%9D%A27、https://zhuanlan.zhihu.com/p/26625249 (这篇适合完全没有任何技术背景的人看)","link":"/2019/12/18/hexo-icarus博客更改记录/"},{"title":"test","text":"","link":"/2019/12/18/test/"}],"tags":[{"name":"hexo","slug":"hexo","link":"/tags/hexo/"},{"name":"icarus","slug":"icarus","link":"/tags/icarus/"}],"categories":[{"name":"icarus","slug":"icarus","link":"/categories/icarus/"}]}